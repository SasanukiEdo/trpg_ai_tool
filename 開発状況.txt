## 開発環境
OS：Windows11
開発言語：Python 3.10.6
開発ツール：Visual Studio Code



## 実装済みの仕様

当初の目標を含め、現在までに以下の機能が実装されています。

*   APIキー管理（OS資格情報ストア利用）
*   プロジェクト管理機能
    *   プロジェクト選択
    *   新規プロジェクト作成
    *   プロジェクト削除
    *   プロジェクト表示名変更のUI追従
    *   グローバル設定とプロジェクト固有設定の分離・管理
*   プロジェクト単位のデータ管理基盤
    *   プロジェクトごとのサブプロンプト管理
    *   プロジェクトごとのゲームデータ（カテゴリ別アイテム）管理
*   サブプロンプト機能
    *   モデルの空白選択（プロジェクト設定モデル使用）
    *   利用可能モデルリストの`config.json`での一元管理
*   データアイテム詳細表示・編集機能 (`DetailWindow`)
    *   AIによる説明/メモ編集支援機能 (`AIAssistedEditDialog`)
    *   AI支援による履歴追記機能
    *   履歴の表示改善（通し番号、区切り線、タイムスタンプ非表示）
    *   履歴の削除・編集機能
    *   画像プレビュー表示（プロジェクト内相対パス管理、初回表示安定化、リサイズ追従）
*   基本的なUI操作（カテゴリ追加、アイテム追加など）
*   主要モジュール・クラスへのDocstrings整備完了


## 未実装の仕様・今後の課題

現時点で実装されていない、または改善の余地がある項目です。
*   **NPCの「秘密」機能の実装**:
    *   NPCデータ構造への「秘密」情報追加。
    *   `DetailWindow` へのGM専用「秘密」編集UI追加。
    *   AIプロンプトへの「秘密」情報組み込みと、それに基づいたNPCの行動・発言生成。
*   **AI連携の強化**:
    *   データアイテムのタグ情報などを活用した、より文脈に応じたプロンプト自動生成。
    *   AIによる履歴以外のデータ項目更新支援（例: タグの提案、ステータス変化の反映など）。
    *   より高度なNPCとの対話生成（性格、感情、記憶の動的反映）。
    *   プロンプトテンプレートのユーザーカスタマイズ機能。
*   **データ管理機能の強化**:
    *   カテゴリの削除・リネーム機能。（優先度低）
    *   アイテムリストの検索・フィルタリング。
*   **他のAIモデルへの対応**:
    *   Claude、ChatGPTなどのAPIサポート。
    *   共通APIインターフェースの設計・実装。
*   **UI/UX改善**:
    *   `DetailWindow` の画像背景表示モードと通常表示モードの切り替え機能。
    *   UIデザイン全体の洗練、アイコンの統一、より直感的な操作性。
    *   より親切なエラーメッセージやツールチップ、ユーザーガイドの整備。
*   **安定性と堅牢性の向上**:
    *   さらなるエッジケースのテストとエラーハンドリング強化。
    *   パフォーマンスの最適化。


---


## データ管理機能の仕様
JSONファイルで管理。
ファイルはカテゴリごとに分ける。キャラクターだけではなく、アイテムやクエストの情報など、様々な管理に使えるよう汎用性を持たせたいと思っています。
【管理項目】
- カテゴリ
- 固定情報：キャラクターのステータスやアイテムの性能、クエストの依頼内容など、固定情報を記録します。
- 履歴情報：キャラクターの思い出や、クエストの進捗情報など、順次追加されていく情報を記録します。
- タグ：タグ付けをすることで、ほかの関連情報と連動できるようにします。タグは区切り文字を使って複数登録できるようにします。
- 画像：画像ファイルを指定することで、キャラクター画像をUIの背景などに表示できるようにします。
【AIとの連携について】
- 選択した情報と、タグ付けされた関連情報をプロンプトに含める。
- AIに固定情報や追加情報を更新してもらう機能を付ける。
  - 固定情報の場合：今登録されている情報に合わせて、現在の情報をまとめなおし、情報を更新してもらう。キャラクターステータスの更新などに利用したい。
  - 履歴情報の場合：今登録されている情報に追加する形で、情報を更新してもらう。

